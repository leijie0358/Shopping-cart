<html>
<head>
    <style>
		.wrapper {
			opacity:0.8;
		}
		
		
		* { padding: 0; margin: 0; }
        li { list-style: none; }
        img { border: none; }
        body { background: #ecfaff; }
        .play { width: 100%; height: 100%; overflow: hidden; position: relative; margin: 0px auto 0; }
        ol { position: absolute; left: 5px; bottom: 5px; z-index: 2; }
        ol li { float: left; margin-right: 3px; display: none; cursor: pointer; background: #fcf2cf; border: 1px solid #f47500; padding: 2px 6px; color: #d94b01; font-family: arial; font-size: 12px; }
        .active { padding: 3px 8px; font-weight: bold; color: #ffffff; background: #ffb442; position: relative; bottom: 2px; }
        ul { position: absolute; top: 0; left: 0; z-index: 3; }
        ul li { width: 100%; height: 100%; float: left; }
        ul img { float: left; width: 100%; height: 600; }
		
	</style>
    <script type="text/javascript">
        var now_floor_id, now_entity_id, last_floor_id, last_entity_id;

        function load_defalut_floor() {
            last_floor_id=now_floor_id = 3;
            last_entity_id=now_entity_id = 3;
            load_floor(now_floor_id, now_entity_id);
        }

        function show_div(div_id) {
            var div = document.getElementById(div_id);
            div.style.display = 'inline';
        }

        function hide_div(div_id) {
            var div = document.getElementById(div_id);
            div.style.display = 'none';
        }

        function change_floor(tmp_floor, tmp_entity) {
            last_floor_id = now_floor_id;
            last_entity_id = now_entity_id;
            now_floor_id = get_floor_id(now_floor_id + tmp_floor);
            now_entity_id = get_entity_id(now_entity_id + tmp_entity);
            load_floor(now_floor_id, now_entity_id);
            windows_onload();
        }

        function set_active_flag(tmp_floor, tmp_entity,tmp_flag) {
            tmp_li = document.getElementById("li_" + tmp_floor);
            tmp_li.className = tmp_flag;
        }

        function load_floor(floor_id,entity_id) {
            var lbl_01 = document.getElementById("lbl_01");
            var lbl_02 = document.getElementById("lbl_02");
            var lbl_03 = document.getElementById("lbl_03");
            var lbl_04 = document.getElementById("lbl_04"); 
            var lbl_05 = document.getElementById("lbl_05");
            var lbl_changefloor_01 = document.getElementById("lbl_changefloor_01");
            var lbl_changefloor_02 = document.getElementById("lbl_changefloor_02");
            var lbl_changefloor_03 = document.getElementById("lbl_changefloor_03");
            var lbl_changefloor_04 = document.getElementById("lbl_changefloor_04");
            var lbl_changefloor_05 = document.getElementById("lbl_changefloor_05");
            var lbl_changefloor_06 = document.getElementById("lbl_changefloor_06");
            var lbl_changefloor_07 = document.getElementById("lbl_changefloor_07");
            var lbl_changefloor_08 = document.getElementById("lbl_changefloor_08");
            var lbl_changefloor_09 = document.getElementById("lbl_changefloor_09");
            var lbl_changefloor_10 = document.getElementById("lbl_changefloor_10");
            var lbl_changefloor_11 = document.getElementById("lbl_changefloor_11");
            var lbl_changefloor_12 = document.getElementById("lbl_changefloor_12"); 
            var table_change_floor = document.getElementById("table_change_floor");

            lbl_04.innerHTML = get_entity_text(entity_id);
            lbl_02.innerHTML = get_entity_text(parseInt(entity_id) + 1);
            lbl_01.innerHTML = get_entity_text(parseInt(entity_id) + 2);
            lbl_03.innerHTML = get_entity_text(parseInt(entity_id) + 3);
            lbl_05.innerHTML = entity_id + "#" + floor_id + "F";
            lbl_changefloor_04.innerHTML = get_entity_text(entity_id);
            lbl_changefloor_02.innerHTML = get_entity_text(parseInt(entity_id) + 1);
            lbl_changefloor_01.innerHTML = get_entity_text(parseInt(entity_id) + 2);
            lbl_changefloor_03.innerHTML = get_entity_text(parseInt(entity_id) + 3);
            lbl_changefloor_05.innerHTML = get_floor_text(10, floor_id);
            lbl_changefloor_06.innerHTML = get_floor_text(9, floor_id);
            lbl_changefloor_07.innerHTML = get_floor_text(8, floor_id);
            lbl_changefloor_08.innerHTML = get_floor_text(7, floor_id);
            lbl_changefloor_09.innerHTML = get_floor_text(6, floor_id);
            lbl_changefloor_10.innerHTML = get_floor_text(5, floor_id);
            lbl_changefloor_11.innerHTML = get_floor_text(4, floor_id);
            lbl_changefloor_12.innerHTML = get_floor_text(3, floor_id);
            table_change_floor.style.backgroundImage = "url(./images/div_changefloor_" + floor_id + ".png)";
        }

        function get_entity_text(entity_id) {
            if (entity_id > 4) {
                return (entity_id - 4)+"#";
            } else {
                return entity_id+"#";
            }
        }

        function get_floor_text(floor_id,floor_id_tmp) {
            if (floor_id == floor_id_tmp) {
                return floor_id + "F    当前层";
            }else{
                return floor_id + "F";
            }
        }

        function get_entity_id(entity_id) {
            if (entity_id == 0) {
                return 4;
            }
            if (entity_id == 5) {
                return 1;
            }
            return entity_id;
        }

        function get_floor_id(floor_id) {
            if (floor_id == 2) {
                return 10;
            }
            if (floor_id == 11) {
                return 3;
            }
            return floor_id;
        }



        function windows_onload() {
            var oPlay = document.getElementById('play');
            var oOl = oPlay.getElementsByTagName('ol')[0];
            var aLi1 = oOl.getElementsByTagName('li');
            var oUl = oPlay.getElementsByTagName('ul')[0];
            var aLi2 = oUl.getElementsByTagName('li');
            var i = iNum = direction = 0;
            var times = null;
            var play = null;
            show();
            for (i = 0; i < aLi1.length; i++) {
                aLi1[i].index = i;
                aLi1[i].onclick = function () {
                    iNum = this.index;
                    show();
                };
            }

            //按钮点击后调用的函数
            function show() {
                startMove((3-now_floor_id) * 600);
            }

            //自动播放转向
            function autoPlay() {
                if (iNum >= aLi1.length - 1) {
                    direction = 1;
                }
                else if (iNum <= 0) {
                    direction = 0;
                }
                if (direction == 0) {
                    iNum++;
                }
                else if (direction == 1) {
                    iNum--;
                }
                show();
            }
            //自动播放
            //play = setInterval(autoPlay, 3000);
            //鼠标移入展示区停止自动播放
            oPlay.onmouseover = function () {
                clearInterval(play);
            };
            //鼠标移出展示区开启自动播放
            oPlay.onmouseout = function () {
                //play = setInterval(autoPlay, 3000);
            };

            function startMove(iTarget) {
                times = setInterval(function () {
                    doMove(iTarget);
                }, 30);
            }

            function doMove(iTarget) {
                var iSpeed = (iTarget - oUl.offsetTop) / 10;
                iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
                if (oUl.offsetTop == iTarget) {
                    clearInterval(times);
                    hide_div('div_lock');
                }
                else {
                    oUl.style.top = oUl.offsetTop + iSpeed + 'px';
                }
            }
        };
        
    </script>
</head>
<body onload="load_defalut_floor();windows_onload();">
    <table cellpadding="0" cellspacing="0" style="width:100%; height:100%">
        <tr style="height:20%">
            <td>
                <table cellpadding="0" cellspacing="0" style="width:100%; height:100%">
                    <tr>
                        <td style=" width:30%;" onclick="show_div('div_changefloor');">
                            
                            <table cellpadding="0" cellspacing="0" style="height:50%; width:60%; background-image:url(./images/1-1.png);background-repeat: no-repeat;background-position: left top;">
                                <tr style="height:15px">    
                                    <td style=" width: 18px;"></td>
                                    <td style=" width: 18px;">
                                        <span id="lbl_01" style="color: #FFFFFF; font-size: 10pt; ">1#</span>
                                    </td>
                                    <td style=" width:40px">
                                        <span id="lbl_02" style="color: #FFFFFF; font-size: 10pt; ">2#</span>
                                    </td>
                                    <td style=""></td>
                                </tr>
                                <tr style="height:18px">
                                    <td style=""></td>
                                    <td style="">
                                        <span id="lbl_03" style="color: #FFFFFF; font-size: 10pt; ">3#</span>
                                    </td>
                                    <td style="">
                                        <span id="lbl_04" style="color: #F58243; font-size: 10pt; ">4#</span>
                                    </td>
                                    <td rowspan="2" style="vertical-align: bottom">
                                        <span id="lbl_05" style="color: #FFFFFF; font-size: 20pt">4#7F</span>
                                    </td>
                                </tr>
                                <tr style="height:20px">
                                    <td style=""></td>
                                    <td style=""></td>
                                    <td style=""></td>
                                </tr>
                                <tr>
                                    <td style=""></td>
                                    <td style=""></td>
                                    <td style=""></td>
                                    <td style=""></td>
                                </tr>
                            </table>
                        </td>
                        <td style=" text-align: center;">
                            <img onclick="show_div('div_lock');change_floor(1,0);" alt="" src="images/1-2.png" style="width:15%; height:30%" />
                            </td>
                        <td style=" width:30%">
                            
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr style="height:60%">
            <td>
                <table cellpadding="0" cellspacing="0" style="width:100%; height:100%">
                    <tr>
                        <td style=" width:6%; text-align: center;">
                            <img onclick="change_floor(0,-1);" alt="" src="images/2-1.png" style="width:40%; height:15%" />
                        </td>
                        <td style="">
                            <!--<img alt="" src="images/floor_4-7F.png" style="width:100%; height:100%" />-->

                            <div class="play" id="play" style="width:100%; height:100%">
                                <ol>
                                    <li id="li_3">1</li>
                                    <li id="li_4">2</li>
                                    <li id="li_5">3</li>
                                    <li id="li_6">4</li>
                                    <li id="li_7">5</li>
                                    <li id="li_8">6</li>
                                    <li id="li_9">7</li>
                                    <li id="li_10">8</li>
                                </ol>
                                <ul>
				                    <li><img src="images/楼层图1.png" /></li>
				                    <li><img src="images/楼层图2.png" /></li>
				                    <li><img src="images/楼层图1.png" /></li>
				                    <li><img src="images/楼层图2.png" /></li>
				                    <li><img src="images/楼层图1.png" /></li>
				                    <li><img src="images/楼层图2.png" /></li>
				                    <li><img src="images/楼层图1.png" /></li>
				                    <li><img src="images/楼层图2.png" /></li>
			                    </ul>
		                    </div>
                        </td>
                        <td style=" width:6%; text-align: center;">
                            <img onclick="change_floor(0,1);" alt="" src="images/2-3.png" style="width:40%; height:15%" />
                        </td>
                    </tr>
                </table>
            </td>
            
        </tr>
        <tr style="height:20%">
            <td>
                <table cellpadding="0" cellspacing="0" style="width:100%; height:100%">
                    <tr>
                        <td style=" width:30%"></td>
                        <td style=" text-align: center;">
                            <img onclick="show_div('div_lock');change_floor(-1,0);" alt="" src="images/3-2.png" style="width:15%; height:30%" />
                        </td>
                        <td style=" width:30%; text-align: right;">
                            <img alt="" src="images/3-3.png" style="width:50%; height:30%" />
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <div id="div_changefloor" 
        style="background-color: #000000; height:99%; width:99%; position:absolute; top: 0px; display:none; z-index:10"
        class="wrapper">
        
        <table cellpadding="0" cellspacing="0" style="width:100%; height:100%">
            <tr style="height:20%">
                <td style=" width:30%"  ></td>
                <td style=""  ></td>
                <td style=" width:30%; text-align: right; vertical-align: top;"  >
                    <img alt="" src="images/close_div.png"  onclick="hide_div('div_changefloor');"/>
                </td>
            </tr>
            <tr>
                <td style="text-align: right"  >
                    <img onclick="change_floor(0,-1);" alt="" src="images/change_left.png"/>
                </td>
                <td style=" text-align: center; vertical-align: middle;"  >
                    <table id="table_change_floor" cellpadding="0" cellspacing="0" style="height:100%; width:100%; background-image:url(./images/div_changefloor_7.png);background-position: center top;background-repeat: no-repeat;">
                        <tr style="height:15%">
                            <td style="width:40%"></td>
                            <td onclick="change_floor(0, 2);" style="width:12%"><span id="lbl_changefloor_01" style="color: #FFFFFF; font-size: 20pt">1#</span></td>
                            <td onclick="change_floor(0, 1);"><span id="lbl_changefloor_02" style="color: #FFFFFF; font-size: 20pt">2#</span></td>
                        </tr>
                        <tr style="height:10%">
                            <td></td>
                            <td onclick="change_floor(0, -1);"><span id="lbl_changefloor_03" style="color: #FFFFFF; font-size: 20pt">3#</span></td>
                            <td><span id="lbl_changefloor_04" style="color: #F58243; font-size: 20pt">4#</span></td>
                        </tr>
                        <tr style="height:42px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(10-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_05" style="color: #F58243; font-size: 10pt">10F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(9-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_06" style="color: #F58243; font-size: 10pt">9F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(8-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_07" style="color: #F58243; font-size: 10pt">8F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(7-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_08" style="color: #F58243; font-size: 10pt">7F   当前层</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(6-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_09" style="color: #F58243; font-size: 10pt">6F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(5-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_10" style="color: #F58243; font-size: 10pt">5F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(4-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_11" style="color: #F58243; font-size: 10pt">4F</span></td>
                        </tr>
                        <tr style="height:31px">
                            <td></td>
                            <td></td>
                            <td onclick="show_div('div_lock');change_floor(3-now_floor_id, 0);" style="text-align: left; vertical-align: bottom;"><span id="lbl_changefloor_12" style="color: #F58243; font-size: 10pt">3F</span></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                    </td>
                <td style=""  ><img onclick="change_floor(0,1);" alt="" src="images/change_right.png"/></td>
            </tr>
            <tr style="height:20%">
                <td style=""  ></td>
                <td style=""  ></td>
                <td style=""  ></td>
            </tr>
        </table>
    </div>
    <div id="div_lock" 
        style="height:99%; width:99%; position:absolute; top: 0px; display:none; z-index:20"
        class="wrapper">
        </div>
</body>
</html>